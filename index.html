<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Generador de Prompts XML para ChatGPT</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 2rem;
      background: #f5f5f5;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 1rem;
    }
    textarea {
      width: 100%;
      height: 100px;
      margin-bottom: 1rem;
      padding: 0.5rem;
      font-family: monospace;
      resize: vertical;
    }
    button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      cursor: pointer;
      margin-right: 1rem;
      margin-top: 1rem;
    }
    pre {
      background: #eeeeee;
      padding: 1rem;
      white-space: pre-wrap;
      word-break: break-word;
      margin-top: 2rem;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>

  <h1>Generador de Prompts XML para ChatGPT</h1>

  <button onclick="ponerEjemplo()">Poner ejemplo</button>

  <label for="contexto">Contexto</label>
  <textarea id="contexto" placeholder="Introduce aquí el contexto..."></textarea>

  <label for="tarea">Tarea</label>
  <textarea id="tarea" placeholder="¿Qué debe hacer el modelo?"></textarea>

  <label for="restricciones">Restricciones</label>
  <textarea id="restricciones" placeholder="Condiciones que debe respetar la respuesta..."></textarea>

  <label for="formato">Formato</label>
  <textarea id="formato" placeholder="¿Cómo debe estructurarse la respuesta?"></textarea>

  <label for="estilo">Estilo</label>
  <textarea id="estilo" placeholder="Estilo de redacción deseado..."></textarea>

  <button onclick="generarPrompt()">Generar XML</button>
  <button onclick="copiarAlPortapapeles()">Copiar XML al portapapeles (ctrl+v) para pegar</button>

  <pre id="resultado"></pre>

  <script>
    function escapeXML(str) {
      return str
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;");
    }

    function indentText(text, level = 2) {
      const indentation = ' '.repeat(level * 2);
      return text
        .split('\n')
        .map(line => indentation + line.trim())
        .join('\n');
    }

    function generarPrompt() {
      const contexto = indentText(escapeXML(document.getElementById("contexto").value.trim()));
      const tarea = indentText(escapeXML(document.getElementById("tarea").value.trim()));
      const restricciones = indentText(escapeXML(document.getElementById("restricciones").value.trim()));
      const formato = indentText(escapeXML(document.getElementById("formato").value.trim()));
      const estilo = indentText(escapeXML(document.getElementById("estilo").value.trim()));

      const xml = `<prompt>
  <contexto>
${contexto}
  </contexto>
  <tarea>
${tarea}
  </tarea>
  <restricciones>
${restricciones}
  </restricciones>
  <formato>
${formato}
  </formato>
  <estilo>
${estilo}
  </estilo>
</prompt>`;

      document.getElementById("resultado").textContent = xml;
    }

    function ponerEjemplo() {
      document.getElementById("contexto").value = `La incorporación de algoritmos de IA en entornos industriales está reconfigurando de manera profunda procesos tales como el mantenimiento predictivo, el control automatizado de la calidad y la gestión optimizada del consumo energético. Mediante el empleo de redes neuronales, esquemas de aprendizaje por refuerzo y modelos de inferencia supervisada, se habilita la detección anticipada de fallos, la modulación adaptativa de parámetros operativos y el incremento sostenido de la eficiencia en sistemas de producción complejos. Este impacto se intensifica cuando dichas técnicas, tradicionalmente desplegadas de forma aislada, se articulan de manera sinérgica en el marco de un Sistema Cognitivo integrado.`;
      
      document.getElementById("tarea").value = `1. Describir los principales tipos de algoritmos de IA utilizados actualmente en el ámbito industrial.\n2. Explicar cómo se aplican en contextos concretos como mantenimiento, control de calidad o logística.\n3. Analizar los beneficios técnicos y económicos que aportan.\n4. Señalar las limitaciones o condiciones para su implantación efectiva.`;
      
      document.getElementById("restricciones").value = `1. No incluir ejemplos del sector doméstico ni del ámbito educativo.\n2. Evitar listas con viñetas; redactar en forma expositiva.\n3. No utilizar lenguaje coloquial ni frases ambiguas.\n4. Extensión máxima: 500 palabras.`;
      
      document.getElementById("formato").value = `Texto articulado en párrafos con cohesión temática, sin títulos ni numeraciones explícitas. Incluir referencias técnicas si son pertinentes.`;
      
      document.getElementById("estilo").value = `Redacción académica, técnica, sobria y clara. Evitar expresiones enfáticas. Preferencia por términos de raíz grecolatina y estructuras sintácticas complejas.`;
    }

    function copiarAlPortapapeles() {
      const texto = document.getElementById("resultado").textContent;
      navigator.clipboard.writeText(texto)
        .then(() => alert("XML copiado al portapapeles."))
        .catch(err => alert("Error al copiar: " + err));
    }
  </script>

</body>
</html>
